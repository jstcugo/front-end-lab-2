<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Google</title>
  <link rel="stylesheet" href="styles.css">

  
</head>
<body>

  <!-- Colored text logo -->
  <div id="logo">
    <span class="g">G</span><span class="o1">o</span><span class="o2">o</span><span class="g2">g</span><span class="l">l</span><span class="e">e</span>
  </div>

  <!-- Search bar -->
  <div id="search-container">
    <input type="text" id="search-box" placeholder="Search Google..." />
    <div id="suggestions"></div>
  </div>

  <!-- Buttons -->
  <div id="buttons">
    <button class="btn" id="searchBtn">Google</button>
    <button class="btn" id="luckyBtn">I'm Feeling Lucky</button>
  </div>

  <!-- Footer -->
  <footer>
    <a href="#">About</a>
    <a href="#">Advertising</a>
    <a href="#">Business</a>
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
  </footer>

  <script>
    const box = document.getElementById("search-box");
    const container = document.getElementById("suggestions");
    let countries = [];

    // Fetch all countries at once
    async function loadCountries() {
      try {
        const res = await fetch("https://countriesnow.space/api/v0.1/countries");
        const data = await res.json();
        countries = data.data.map(c => c.country);
      } catch (err) {
        console.error("Failed to load countries", err);
      }
    }
    loadCountries();


    // To listen for input typing
    box.addEventListener("input", () => {
      const query = box.value.toLowerCase().trim();
      if (!query) {
        container.style.display = "none";
        return;
      }

      // Filter matching countries
      const matches = countries.filter(c => c.toLowerCase().startsWith(query));
      if (matches.length === 0) {
        container.style.display = "none";
        return;
      }

      // Show suggestions
      container.innerHTML = matches.slice(0, 8).map(name => `<p>${name}</p>`).join("");
      container.style.display = "block";
    });

    // Click on suggestion
    container.addEventListener("click", e => {
      if (e.target.tagName === "P") {
        box.value = e.target.textContent;
        container.style.display = "none";
      }
    });

    // Clear input
    document.getElementById("clearBtn").onclick = () => {
      box.value = "";
      container.style.display = "none";
    };

    // Hide suggestions when mouse leaves
    document.getElementById("search-container").addEventListener("mouseleave", () => {
      container.style.display = "none";
    });
  </script>
</body>

</html>
